---
bundle:
  name: test_DLT_wheel
 
include:
  - workflow.yml
 
# sync:
#   paths:

# artifacts:
#   default:
#     type: whl
#     path: .
#     build: python -m build --wheel --outdir dist

# Scripts at the root level

variables:
  default_catalog:
    default: dev_data_cloud_cicd
  default_schema:
    default: demo_da_cicd
  wheel_name: 
    default: "utilities2-0.1.0-py3-none-any.whl"

experimental:
  scripts:
    predeploy: "databricks fs cp dist/${var.wheel_name} dbfs:/Volumes/dev_data_cloud_cicd/demo_da_cicd/demo_da_cicd_volume_DAB/ --overwrite --profile dev"

targets:
  dev:
    mode: development
    default: true
    workspace:
      # host:
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}
    permissions:
      - user_name: ${workspace.current_user.userName}
        level: CAN_MANAGE
