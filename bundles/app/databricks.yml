---
bundle:
  name: DLT_wheel_app_bundle
 
include:
  - workflow.yml
 
sync:
  paths:
    - ../../explorations
    - ../../transformations


# artifacts:
#   default:
#     type: whl
#     path: .
#     build: python -m build --wheel --outdir dist

# Scripts at the root level

variables:
  default_catalog:
    default: dev_data_cloud_cicd
  default_schema:
    default: demo_da_cicd
  wheel_volume:
    default: dlt_wheel_volume
  wheel_name: 
    default: utilities-0.1.0-py3-none-any.whl

experimental:
  scripts:
    predeploy: "databricks fs cp ../../dist/${var.wheel_name} dbfs:/Volumes/${var.default_catalog}/${var.default_schema}/${var.wheel_volume}/ --overwrite --profile dev"

targets:
  dev:
    mode: development
    default: true
    workspace:
      # host:
      root_path: /Workspace/Users/${workspace.current_user.userName}/.bundle/${bundle.name}/${bundle.target}
    permissions:
      - user_name: ${workspace.current_user.userName}
        level: CAN_MANAGE
~/bundles